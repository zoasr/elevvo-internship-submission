import{r as i,a as U,j as e,c as X,b as y,d as R,P as h,e as x,f as N,g as Y,D as Z,h as Q,i as v,R as ee,u as te}from"./index-C9o1eYIw.js";import{a as S,B as b,u as ae}from"./button-BypFou8b.js";import{C as oe,a as ne,b as se,c as re,d as ie,B as le,e as ce}from"./badge-BZPrlIBI.js";import{h as de,P as ue,i as ge,R as pe,j as fe,F as me,u as xe,o as he,a as ve,s as O,l as f,I as P,S as je,b as De,c as Ce,d as ye,e as be,f as Re,g as m}from"./select-Cqn71vLb.js";/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ne=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],_e=de("x",Ne);var D="Dialog",[T,ot]=X(D),[Ee,d]=T(D),A=a=>{const{__scopeDialog:o,children:r,open:s,defaultOpen:t,onOpenChange:n,modal:l=!0}=a,c=i.useRef(null),u=i.useRef(null),[p,C]=U({prop:s,defaultProp:t??!1,onChange:n,caller:D});return e.jsx(Ee,{scope:o,triggerRef:c,contentRef:u,contentId:y(),titleId:y(),descriptionId:y(),open:p,onOpenChange:C,onOpenToggle:i.useCallback(()=>C(K=>!K),[C]),modal:l,children:r})};A.displayName=D;var w="DialogTrigger",F=i.forwardRef((a,o)=>{const{__scopeDialog:r,...s}=a,t=d(w,r),n=R(o,t.triggerRef);return e.jsx(h.button,{type:"button","aria-haspopup":"dialog","aria-expanded":t.open,"aria-controls":t.contentId,"data-state":I(t.open),...s,ref:n,onClick:x(a.onClick,t.onOpenToggle)})});F.displayName=w;var _="DialogPortal",[Ie,M]=T(_,{forceMount:void 0}),k=a=>{const{__scopeDialog:o,forceMount:r,children:s,container:t}=a,n=d(_,o);return e.jsx(Ie,{scope:o,forceMount:r,children:i.Children.map(s,l=>e.jsx(N,{present:r||n.open,children:e.jsx(ue,{asChild:!0,container:t,children:l})}))})};k.displayName=_;var j="DialogOverlay",B=i.forwardRef((a,o)=>{const r=M(j,a.__scopeDialog),{forceMount:s=r.forceMount,...t}=a,n=d(j,a.__scopeDialog);return n.modal?e.jsx(N,{present:s||n.open,children:e.jsx(Pe,{...t,ref:o})}):null});B.displayName=j;var Oe=Y("DialogOverlay.RemoveScroll"),Pe=i.forwardRef((a,o)=>{const{__scopeDialog:r,...s}=a,t=d(j,r);return e.jsx(pe,{as:Oe,allowPinchZoom:!0,shards:[t.contentRef],children:e.jsx(h.div,{"data-state":I(t.open),...s,ref:o,style:{pointerEvents:"auto",...s.style}})})}),g="DialogContent",$=i.forwardRef((a,o)=>{const r=M(g,a.__scopeDialog),{forceMount:s=r.forceMount,...t}=a,n=d(g,a.__scopeDialog);return e.jsx(N,{present:s||n.open,children:n.modal?e.jsx(Se,{...t,ref:o}):e.jsx(Te,{...t,ref:o})})});$.displayName=g;var Se=i.forwardRef((a,o)=>{const r=d(g,a.__scopeDialog),s=i.useRef(null),t=R(o,r.contentRef,s);return i.useEffect(()=>{const n=s.current;if(n)return ge(n)},[]),e.jsx(W,{...a,ref:t,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:x(a.onCloseAutoFocus,n=>{var l;n.preventDefault(),(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:x(a.onPointerDownOutside,n=>{const l=n.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0;(l.button===2||c)&&n.preventDefault()}),onFocusOutside:x(a.onFocusOutside,n=>n.preventDefault())})}),Te=i.forwardRef((a,o)=>{const r=d(g,a.__scopeDialog),s=i.useRef(!1),t=i.useRef(!1);return e.jsx(W,{...a,ref:o,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:n=>{var l,c;(l=a.onCloseAutoFocus)==null||l.call(a,n),n.defaultPrevented||(s.current||(c=r.triggerRef.current)==null||c.focus(),n.preventDefault()),s.current=!1,t.current=!1},onInteractOutside:n=>{var u,p;(u=a.onInteractOutside)==null||u.call(a,n),n.defaultPrevented||(s.current=!0,n.detail.originalEvent.type==="pointerdown"&&(t.current=!0));const l=n.target;((p=r.triggerRef.current)==null?void 0:p.contains(l))&&n.preventDefault(),n.detail.originalEvent.type==="focusin"&&t.current&&n.preventDefault()}})}),W=i.forwardRef((a,o)=>{const{__scopeDialog:r,trapFocus:s,onOpenAutoFocus:t,onCloseAutoFocus:n,...l}=a,c=d(g,r),u=i.useRef(null),p=R(o,u);return fe(),e.jsxs(e.Fragment,{children:[e.jsx(me,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:t,onUnmountAutoFocus:n,children:e.jsx(Z,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":I(c.open),...l,ref:p,onDismiss:()=>c.onOpenChange(!1)})}),e.jsxs(e.Fragment,{children:[e.jsx(Ae,{titleId:c.titleId}),e.jsx(Fe,{contentRef:u,descriptionId:c.descriptionId})]})]})}),E="DialogTitle",L=i.forwardRef((a,o)=>{const{__scopeDialog:r,...s}=a,t=d(E,r);return e.jsx(h.h2,{id:t.titleId,...s,ref:o})});L.displayName=E;var G="DialogDescription",J=i.forwardRef((a,o)=>{const{__scopeDialog:r,...s}=a,t=d(G,r);return e.jsx(h.p,{id:t.descriptionId,...s,ref:o})});J.displayName=G;var z="DialogClose",V=i.forwardRef((a,o)=>{const{__scopeDialog:r,...s}=a,t=d(z,r);return e.jsx(h.button,{type:"button",...s,ref:o,onClick:x(a.onClick,()=>t.onOpenChange(!1))})});V.displayName=z;function I(a){return a?"open":"closed"}var q="DialogTitleWarning",[nt,H]=Q(q,{contentName:g,titleName:E,docsSlug:"dialog"}),Ae=({titleId:a})=>{const o=H(q),r=`\`${o.contentName}\` requires a \`${o.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${o.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${o.docsSlug}`;return i.useEffect(()=>{a&&(document.getElementById(a)||console.error(r))},[r,a]),null},we="DialogDescriptionWarning",Fe=({contentRef:a,descriptionId:o})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${H(we).contentName}}.`;return i.useEffect(()=>{var n;const t=(n=a.current)==null?void 0:n.getAttribute("aria-describedby");o&&t&&(document.getElementById(o)||console.warn(s))},[s,a,o]),null},Me=A,ke=F,Be=k,$e=B,We=$,Le=L,Ge=J,Je=V;function ze({...a}){return e.jsx(Me,{"data-slot":"dialog",...a})}function Ve({...a}){return e.jsx(ke,{"data-slot":"dialog-trigger",...a})}function qe({...a}){return e.jsx(Be,{"data-slot":"dialog-portal",...a})}function He({className:a,...o}){return e.jsx($e,{"data-slot":"dialog-overlay",className:v("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",a),...o})}function Ke({className:a,children:o,showCloseButton:r=!0,...s}){return e.jsxs(qe,{"data-slot":"dialog-portal",children:[e.jsx(He,{}),e.jsxs(We,{"data-slot":"dialog-content",className:v("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",a),...s,children:[o,r&&e.jsxs(Je,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[e.jsx(_e,{}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function Ue({className:a,...o}){return e.jsx("div",{"data-slot":"dialog-header",className:v("flex flex-col gap-2 text-center sm:text-left",a),...o})}function Xe({className:a,...o}){return e.jsx(Le,{"data-slot":"dialog-title",className:v("text-lg font-semibold leading-none",a),...o})}function Ye({className:a,...o}){return e.jsx(Ge,{"data-slot":"dialog-description",className:v("text-sm text-muted-foreground",a),...o})}function Ze({job:a,onOpenChange:o}){const{updateJob:r}=S(),s=xe({validators:{onChange:he({title:O(),company:O(),status:ve([f("Applied"),f("Interviewing"),f("Offer"),f("Rejected"),f("Accepted"),f("Not selected by the employer")])})},defaultValues:{title:a.title,company:a.company,status:a.status},onSubmit:({value:t})=>{r({...t,id:a.id}),o(!1)}});return e.jsxs("form",{onSubmit:t=>{t.preventDefault(),t.stopPropagation(),s.handleSubmit()},className:"space-y-8",children:[e.jsx(s.Field,{name:"title",children:t=>e.jsxs("div",{children:[e.jsx("label",{htmlFor:t.name,children:"Title"}),e.jsx(P,{id:t.name,name:t.name,value:t.state.value,onBlur:t.handleBlur,onChange:n=>t.handleChange(n.target.value),required:!0}),t.state.meta.errors?e.jsx("em",{role:"alert",children:t.state.meta.errors.join(", ")}):null]})}),e.jsx(s.Field,{name:"company",children:t=>e.jsxs("div",{children:[e.jsx("label",{htmlFor:t.name,children:"Company"}),e.jsx(P,{id:t.name,name:t.name,value:t.state.value,onBlur:t.handleBlur,onChange:n=>t.handleChange(n.target.value),required:!0}),t.state.meta.errors?e.jsx("em",{role:"alert",children:t.state.meta.errors.join(", ")}):null]})}),e.jsx(s.Field,{name:"status",children:t=>e.jsxs("div",{children:[e.jsx("label",{htmlFor:t.name,children:"Status"}),e.jsxs(je,{onValueChange:n=>t.handleChange(n),value:t.state.value,name:t.name,required:!0,children:[e.jsx(De,{className:"w-[180px]",onBlur:t.handleBlur,id:t.name,children:e.jsx(Ce,{placeholder:"Select job status"})}),e.jsx(ye,{children:e.jsxs(be,{children:[e.jsx(Re,{children:"Stats"}),e.jsx(m,{value:"Applied",children:"Applied"}),e.jsx(m,{value:"Interviewing",children:"Interviewing"}),e.jsx(m,{value:"Offer",children:"Offer"}),e.jsx(m,{value:"Rejected",children:"Rejected"}),e.jsx(m,{value:"Accepted",children:"Accepted"}),e.jsx(m,{value:"Not selected by the employer",children:"Not selected by the employer"})]})})]}),t.state.meta.errors?e.jsx("em",{role:"alert",children:t.state.meta.errors.join(", ")}):null]})}),e.jsx(b,{type:"submit",children:"Save Changes"})]})}const st=function(){const{jobId:o}=ee.useParams(),r=ae(),{deleteJob:s}=S(),t=r.find(u=>u.id===o),[n,l]=i.useState(!1),c=te();return t?e.jsxs(oe,{className:"max-w-[700px] mx-auto",children:[e.jsxs(ne,{children:[e.jsx(se,{children:t.title}),e.jsx(re,{children:t.company})]}),e.jsx(ie,{children:e.jsx(le,{children:t.status})}),e.jsxs(ce,{className:"flex gap-2 justify-end",children:[e.jsxs(ze,{open:n,onOpenChange:l,children:[e.jsx(Ve,{asChild:!0,children:e.jsx(b,{children:"Edit"})}),e.jsxs(Ke,{children:[e.jsxs(Ue,{children:[e.jsx(Xe,{children:"Edit Job"}),e.jsx(Ye,{children:"Make changes to your job application here. Click save when you're done."})]}),e.jsx(Ze,{job:t,onOpenChange:l})]})]}),e.jsx(b,{variant:"destructive",onClick:()=>{s(t),c.navigate({to:"/"})},children:"Delete"})]})]}):e.jsxs("div",{className:"flex justify-center items-center w-full h-full text-4xl text-center",children:["Job with id ",o," not found"]})};export{st as component};
