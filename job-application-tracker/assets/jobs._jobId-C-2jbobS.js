import{o as Y,r as l,g as Z,j as e,e as Q,h as b,u as y,P as f,p as N,i as H,D as ee,f as te,l as h,q as ae,n as oe}from"./index-DQ4EGbrB.js";import{a as E,B as v,u as ne}from"./jobs-DZMybQlu.js";import{C as se,a as re,b as le,c as S,d as ie,B as I,e as ce}from"./badge-BiQYjqgz.js";import{P as de,h as ue,R as ge,F as me,a as xe}from"./schemas-CAudoaL4.js";import{i as pe,u as fe,I as O,P as he,a as ve,b as je,C as Ce,T as De,S as be,c as ye,d as Ne,e as Re,f as Pe,g as _e,h as x}from"./textarea-BRSTmCKY.js";import{f as F}from"./format-BtYX0kVO.js";/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ie=Y("x",Se);function p(a,o,{checkForDefaultPrevented:r=!0}={}){return function(t){if(a==null||a(t),r===!1||!t.defaultPrevented)return o==null?void 0:o(t)}}var C="Dialog",[T,it]=Q(C),[Oe,d]=T(C),w=a=>{const{__scopeDialog:o,children:r,open:s,defaultOpen:t,onOpenChange:n,modal:i=!0}=a,c=l.useRef(null),u=l.useRef(null),[m,D]=Z({prop:s,defaultProp:t??!1,onChange:n,caller:C});return e.jsx(Oe,{scope:o,triggerRef:c,contentRef:u,contentId:b(),titleId:b(),descriptionId:b(),open:m,onOpenChange:D,onOpenToggle:l.useCallback(()=>D(X=>!X),[D]),modal:i,children:r})};w.displayName=C;var A="DialogTrigger",M=l.forwardRef((a,o)=>{const{__scopeDialog:r,...s}=a,t=d(A,r),n=y(o,t.triggerRef);return e.jsx(f.button,{type:"button","aria-haspopup":"dialog","aria-expanded":t.open,"aria-controls":t.contentId,"data-state":_(t.open),...s,ref:n,onClick:p(a.onClick,t.onOpenToggle)})});M.displayName=A;var R="DialogPortal",[Ee,k]=T(R,{forceMount:void 0}),B=a=>{const{__scopeDialog:o,forceMount:r,children:s,container:t}=a,n=d(R,o);return e.jsx(Ee,{scope:o,forceMount:r,children:l.Children.map(s,i=>e.jsx(N,{present:r||n.open,children:e.jsx(de,{asChild:!0,container:t,children:i})}))})};B.displayName=R;var j="DialogOverlay",$=l.forwardRef((a,o)=>{const r=k(j,a.__scopeDialog),{forceMount:s=r.forceMount,...t}=a,n=d(j,a.__scopeDialog);return n.modal?e.jsx(N,{present:s||n.open,children:e.jsx(Te,{...t,ref:o})}):null});$.displayName=j;var Fe=H("DialogOverlay.RemoveScroll"),Te=l.forwardRef((a,o)=>{const{__scopeDialog:r,...s}=a,t=d(j,r);return e.jsx(ge,{as:Fe,allowPinchZoom:!0,shards:[t.contentRef],children:e.jsx(f.div,{"data-state":_(t.open),...s,ref:o,style:{pointerEvents:"auto",...s.style}})})}),g="DialogContent",W=l.forwardRef((a,o)=>{const r=k(g,a.__scopeDialog),{forceMount:s=r.forceMount,...t}=a,n=d(g,a.__scopeDialog);return e.jsx(N,{present:s||n.open,children:n.modal?e.jsx(we,{...t,ref:o}):e.jsx(Ae,{...t,ref:o})})});W.displayName=g;var we=l.forwardRef((a,o)=>{const r=d(g,a.__scopeDialog),s=l.useRef(null),t=y(o,r.contentRef,s);return l.useEffect(()=>{const n=s.current;if(n)return ue(n)},[]),e.jsx(L,{...a,ref:t,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:p(a.onCloseAutoFocus,n=>{var i;n.preventDefault(),(i=r.triggerRef.current)==null||i.focus()}),onPointerDownOutside:p(a.onPointerDownOutside,n=>{const i=n.detail.originalEvent,c=i.button===0&&i.ctrlKey===!0;(i.button===2||c)&&n.preventDefault()}),onFocusOutside:p(a.onFocusOutside,n=>n.preventDefault())})}),Ae=l.forwardRef((a,o)=>{const r=d(g,a.__scopeDialog),s=l.useRef(!1),t=l.useRef(!1);return e.jsx(L,{...a,ref:o,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:n=>{var i,c;(i=a.onCloseAutoFocus)==null||i.call(a,n),n.defaultPrevented||(s.current||(c=r.triggerRef.current)==null||c.focus(),n.preventDefault()),s.current=!1,t.current=!1},onInteractOutside:n=>{var u,m;(u=a.onInteractOutside)==null||u.call(a,n),n.defaultPrevented||(s.current=!0,n.detail.originalEvent.type==="pointerdown"&&(t.current=!0));const i=n.target;((m=r.triggerRef.current)==null?void 0:m.contains(i))&&n.preventDefault(),n.detail.originalEvent.type==="focusin"&&t.current&&n.preventDefault()}})}),L=l.forwardRef((a,o)=>{const{__scopeDialog:r,trapFocus:s,onOpenAutoFocus:t,onCloseAutoFocus:n,...i}=a,c=d(g,r),u=l.useRef(null),m=y(o,u);return pe(),e.jsxs(e.Fragment,{children:[e.jsx(me,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:t,onUnmountAutoFocus:n,children:e.jsx(ee,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":_(c.open),...i,ref:m,onDismiss:()=>c.onOpenChange(!1)})}),e.jsxs(e.Fragment,{children:[e.jsx(Me,{titleId:c.titleId}),e.jsx(Be,{contentRef:u,descriptionId:c.descriptionId})]})]})}),P="DialogTitle",J=l.forwardRef((a,o)=>{const{__scopeDialog:r,...s}=a,t=d(P,r);return e.jsx(f.h2,{id:t.titleId,...s,ref:o})});J.displayName=P;var G="DialogDescription",q=l.forwardRef((a,o)=>{const{__scopeDialog:r,...s}=a,t=d(G,r);return e.jsx(f.p,{id:t.descriptionId,...s,ref:o})});q.displayName=G;var z="DialogClose",V=l.forwardRef((a,o)=>{const{__scopeDialog:r,...s}=a,t=d(z,r);return e.jsx(f.button,{type:"button",...s,ref:o,onClick:p(a.onClick,()=>t.onOpenChange(!1))})});V.displayName=z;function _(a){return a?"open":"closed"}var K="DialogTitleWarning",[ct,U]=te(K,{contentName:g,titleName:P,docsSlug:"dialog"}),Me=({titleId:a})=>{const o=U(K),r=`\`${o.contentName}\` requires a \`${o.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${o.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${o.docsSlug}`;return l.useEffect(()=>{a&&(document.getElementById(a)||console.error(r))},[r,a]),null},ke="DialogDescriptionWarning",Be=({contentRef:a,descriptionId:o})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${U(ke).contentName}}.`;return l.useEffect(()=>{var n;const t=(n=a.current)==null?void 0:n.getAttribute("aria-describedby");o&&t&&(document.getElementById(o)||console.warn(s))},[s,a,o]),null},$e=w,We=M,Le=B,Je=$,Ge=W,qe=J,ze=q,Ve=V;function Ke({...a}){return e.jsx($e,{"data-slot":"dialog",...a})}function Ue({...a}){return e.jsx(We,{"data-slot":"dialog-trigger",...a})}function Xe({...a}){return e.jsx(Le,{"data-slot":"dialog-portal",...a})}function Ye({className:a,...o}){return e.jsx(Je,{"data-slot":"dialog-overlay",className:h("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",a),...o})}function Ze({className:a,children:o,showCloseButton:r=!0,...s}){return e.jsxs(Xe,{"data-slot":"dialog-portal",children:[e.jsx(Ye,{}),e.jsxs(Ge,{"data-slot":"dialog-content",className:h("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",a),...s,children:[o,r&&e.jsxs(Ve,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[e.jsx(Ie,{}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function Qe({className:a,...o}){return e.jsx("div",{"data-slot":"dialog-header",className:h("flex flex-col gap-2 text-center sm:text-left",a),...o})}function He({className:a,...o}){return e.jsx(qe,{"data-slot":"dialog-title",className:h("text-lg font-semibold leading-none",a),...o})}function et({className:a,...o}){return e.jsx(ze,{"data-slot":"dialog-description",className:h("text-sm text-muted-foreground",a),...o})}function tt({job:a,onOpenChange:o}){const{updateJob:r}=E(),s=fe({validators:{onChange:xe},defaultValues:{title:a.title,company:a.company,date:a.date||new Date,notes:a.notes||"",status:a.status},onSubmit:({value:t})=>{r({...t,id:a.id}),o(!1)}});return e.jsxs("form",{onSubmit:t=>{t.preventDefault(),t.stopPropagation(),s.handleSubmit()},className:"space-y-8",children:[e.jsx(s.Field,{name:"title",children:t=>e.jsxs("div",{children:[e.jsx("label",{htmlFor:t.name,children:"Title"}),e.jsx(O,{id:t.name,name:t.name,value:t.state.value,onBlur:t.handleBlur,onChange:n=>t.handleChange(n.target.value),required:!0}),t.state.meta.errors[0]?e.jsx("em",{role:"alert",children:t.state.meta.errors[0].message}):null]})}),e.jsx(s.Field,{name:"company",children:t=>e.jsxs("div",{children:[e.jsx("label",{htmlFor:t.name,children:"Company"}),e.jsx(O,{id:t.name,name:t.name,value:t.state.value,onBlur:t.handleBlur,onChange:n=>t.handleChange(n.target.value),required:!0}),t.state.meta.errors[0]?e.jsx("em",{role:"alert",children:t.state.meta.errors[0].message}):null]})}),e.jsx(s.Field,{name:"date",children:t=>e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("label",{htmlFor:t.name,className:"text-sm font-medium text-card-foreground dark:text-card-foreground-dark",children:"Date"}),e.jsxs(he,{children:[e.jsx(ve,{asChild:!0,children:e.jsx(v,{variant:"outline",className:"w-full justify-start text-left font-normal","aria-label":"Select a date",children:t.state.value?F(t.state.value,"PPP"):"Select a date"})}),e.jsx(je,{children:e.jsx(Ce,{mode:"single",selected:t.state.value,onSelect:t.handleChange,captionLayout:"dropdown",required:!0})})]}),t.state.meta.errors[0]?e.jsx("em",{role:"alert",className:"text-xs text-destructive dark:text-destructive-dark",children:t.state.meta.errors[0].message}):null]})}),e.jsx(s.Field,{name:"notes",children:t=>e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("label",{htmlFor:t.name,className:"text-sm font-medium text-card-foreground dark:text-card-foreground-dark",children:"Notes"}),e.jsx(De,{onChange:n=>t.handleChange(n.target.value),name:t.name,id:t.name,value:t.state.value,placeholder:"Add Job notes here..."}),t.state.meta.errors[0]?e.jsx("em",{role:"alert",className:"text-xs text-destructive dark:text-destructive-dark",children:t.state.meta.errors[0].message}):null]})}),e.jsx(s.Field,{name:"status",children:t=>e.jsxs("div",{children:[e.jsx("label",{htmlFor:t.name,children:"Status"}),e.jsxs(be,{onValueChange:n=>t.handleChange(n),value:t.state.value,name:t.name,required:!0,children:[e.jsx(ye,{className:"w-[180px]",onBlur:t.handleBlur,id:t.name,children:e.jsx(Ne,{placeholder:"Select job status"})}),e.jsx(Re,{children:e.jsxs(Pe,{children:[e.jsx(_e,{children:"Stats"}),e.jsx(x,{value:"Applied",children:"Applied"}),e.jsx(x,{value:"Interviewing",children:"Interviewing"}),e.jsx(x,{value:"Offer",children:"Offer"}),e.jsx(x,{value:"Rejected",children:"Rejected"}),e.jsx(x,{value:"Accepted",children:"Accepted"}),e.jsx(x,{value:"Not selected by the employer",children:"Not selected by the employer"})]})})]}),t.state.meta.errors[0]?e.jsx("em",{role:"alert",children:t.state.meta.errors[0].message}):null]})}),e.jsx(v,{type:"submit",children:"Save Changes"})]})}const dt=function(){const{jobId:o}=ae.useParams(),r=ne(),{deleteJob:s}=E(),t=r.find(u=>u.id===o),[n,i]=l.useState(!1),c=oe();return t?e.jsxs(se,{className:"max-w-[700px] mx-auto",children:[e.jsxs(re,{children:[e.jsx(le,{children:t.title}),e.jsx(S,{children:t.company})]}),e.jsxs(ie,{children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx(I,{children:t.status}),t.date?e.jsx(I,{children:F(t.date,"dd'th' 'of' MMMM")}):null]}),t.notes?e.jsxs(S,{className:"p-2 text-2xl bg-input rounded-md mt-2 ring-2 ring-primary/20",children:['" ',t.notes,' "']}):null]}),e.jsxs(ce,{className:"flex gap-2 justify-end",children:[e.jsxs(Ke,{open:n,onOpenChange:i,children:[e.jsx(Ue,{asChild:!0,children:e.jsx(v,{children:"Edit"})}),e.jsxs(Ze,{children:[e.jsxs(Qe,{children:[e.jsx(He,{children:"Edit Job"}),e.jsx(et,{children:"Make changes to your job application here. Click save when you're done."})]}),e.jsx(tt,{job:t,onOpenChange:i})]})]}),e.jsx(v,{variant:"destructive",onClick:()=>{s(t),c.navigate({to:"/"})},children:"Delete"})]})]}):e.jsxs("div",{className:"flex justify-center items-center w-full h-full text-4xl text-center",children:["Job with id ",o," not found"]})};export{dt as component};
