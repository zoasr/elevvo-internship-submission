import{r as l,a as X,j as e,c as Y,b,d as y,P as h,e as p,f as N,g as Z,D as Q,h as ee,i as f,R as te,u as ae}from"./index-BJ-FnGGu.js";import{a as O,B as v,f as F,u as ne}from"./format-B0WkQyJU.js";import{C as oe,a as se,b as re,c as E,d as le,B as S,e as ie}from"./badge-DuzF2kvK.js";import{i as ce,j as de,k as ue,R as ge,l as me,F as xe,u as pe,J as he,I,P as fe,a as ve,b as je,C as Ce,T as De,S as be,c as ye,d as Ne,e as Re,f as _e,g as Pe,h as x}from"./textarea-CunXZzEd.js";/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Se=ce("x",Ee);var C="Dialog",[T,rt]=Y(C),[Ie,d]=T(C),w=a=>{const{__scopeDialog:n,children:r,open:s,defaultOpen:t,onOpenChange:o,modal:i=!0}=a,c=l.useRef(null),u=l.useRef(null),[m,D]=X({prop:s,defaultProp:t??!1,onChange:o,caller:C});return e.jsx(Ie,{scope:n,triggerRef:c,contentRef:u,contentId:b(),titleId:b(),descriptionId:b(),open:m,onOpenChange:D,onOpenToggle:l.useCallback(()=>D(U=>!U),[D]),modal:i,children:r})};w.displayName=C;var A="DialogTrigger",M=l.forwardRef((a,n)=>{const{__scopeDialog:r,...s}=a,t=d(A,r),o=y(n,t.triggerRef);return e.jsx(h.button,{type:"button","aria-haspopup":"dialog","aria-expanded":t.open,"aria-controls":t.contentId,"data-state":P(t.open),...s,ref:o,onClick:p(a.onClick,t.onOpenToggle)})});M.displayName=A;var R="DialogPortal",[Oe,k]=T(R,{forceMount:void 0}),B=a=>{const{__scopeDialog:n,forceMount:r,children:s,container:t}=a,o=d(R,n);return e.jsx(Oe,{scope:n,forceMount:r,children:l.Children.map(s,i=>e.jsx(N,{present:r||o.open,children:e.jsx(de,{asChild:!0,container:t,children:i})}))})};B.displayName=R;var j="DialogOverlay",$=l.forwardRef((a,n)=>{const r=k(j,a.__scopeDialog),{forceMount:s=r.forceMount,...t}=a,o=d(j,a.__scopeDialog);return o.modal?e.jsx(N,{present:s||o.open,children:e.jsx(Te,{...t,ref:n})}):null});$.displayName=j;var Fe=Z("DialogOverlay.RemoveScroll"),Te=l.forwardRef((a,n)=>{const{__scopeDialog:r,...s}=a,t=d(j,r);return e.jsx(ge,{as:Fe,allowPinchZoom:!0,shards:[t.contentRef],children:e.jsx(h.div,{"data-state":P(t.open),...s,ref:n,style:{pointerEvents:"auto",...s.style}})})}),g="DialogContent",W=l.forwardRef((a,n)=>{const r=k(g,a.__scopeDialog),{forceMount:s=r.forceMount,...t}=a,o=d(g,a.__scopeDialog);return e.jsx(N,{present:s||o.open,children:o.modal?e.jsx(we,{...t,ref:n}):e.jsx(Ae,{...t,ref:n})})});W.displayName=g;var we=l.forwardRef((a,n)=>{const r=d(g,a.__scopeDialog),s=l.useRef(null),t=y(n,r.contentRef,s);return l.useEffect(()=>{const o=s.current;if(o)return ue(o)},[]),e.jsx(J,{...a,ref:t,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:p(a.onCloseAutoFocus,o=>{var i;o.preventDefault(),(i=r.triggerRef.current)==null||i.focus()}),onPointerDownOutside:p(a.onPointerDownOutside,o=>{const i=o.detail.originalEvent,c=i.button===0&&i.ctrlKey===!0;(i.button===2||c)&&o.preventDefault()}),onFocusOutside:p(a.onFocusOutside,o=>o.preventDefault())})}),Ae=l.forwardRef((a,n)=>{const r=d(g,a.__scopeDialog),s=l.useRef(!1),t=l.useRef(!1);return e.jsx(J,{...a,ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,c;(i=a.onCloseAutoFocus)==null||i.call(a,o),o.defaultPrevented||(s.current||(c=r.triggerRef.current)==null||c.focus(),o.preventDefault()),s.current=!1,t.current=!1},onInteractOutside:o=>{var u,m;(u=a.onInteractOutside)==null||u.call(a,o),o.defaultPrevented||(s.current=!0,o.detail.originalEvent.type==="pointerdown"&&(t.current=!0));const i=o.target;((m=r.triggerRef.current)==null?void 0:m.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&t.current&&o.preventDefault()}})}),J=l.forwardRef((a,n)=>{const{__scopeDialog:r,trapFocus:s,onOpenAutoFocus:t,onCloseAutoFocus:o,...i}=a,c=d(g,r),u=l.useRef(null),m=y(n,u);return me(),e.jsxs(e.Fragment,{children:[e.jsx(xe,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:t,onUnmountAutoFocus:o,children:e.jsx(Q,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":P(c.open),...i,ref:m,onDismiss:()=>c.onOpenChange(!1)})}),e.jsxs(e.Fragment,{children:[e.jsx(Me,{titleId:c.titleId}),e.jsx(Be,{contentRef:u,descriptionId:c.descriptionId})]})]})}),_="DialogTitle",L=l.forwardRef((a,n)=>{const{__scopeDialog:r,...s}=a,t=d(_,r);return e.jsx(h.h2,{id:t.titleId,...s,ref:n})});L.displayName=_;var G="DialogDescription",z=l.forwardRef((a,n)=>{const{__scopeDialog:r,...s}=a,t=d(G,r);return e.jsx(h.p,{id:t.descriptionId,...s,ref:n})});z.displayName=G;var q="DialogClose",V=l.forwardRef((a,n)=>{const{__scopeDialog:r,...s}=a,t=d(q,r);return e.jsx(h.button,{type:"button",...s,ref:n,onClick:p(a.onClick,()=>t.onOpenChange(!1))})});V.displayName=q;function P(a){return a?"open":"closed"}var H="DialogTitleWarning",[lt,K]=ee(H,{contentName:g,titleName:_,docsSlug:"dialog"}),Me=({titleId:a})=>{const n=K(H),r=`\`${n.contentName}\` requires a \`${n.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${n.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${n.docsSlug}`;return l.useEffect(()=>{a&&(document.getElementById(a)||console.error(r))},[r,a]),null},ke="DialogDescriptionWarning",Be=({contentRef:a,descriptionId:n})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${K(ke).contentName}}.`;return l.useEffect(()=>{var o;const t=(o=a.current)==null?void 0:o.getAttribute("aria-describedby");n&&t&&(document.getElementById(n)||console.warn(s))},[s,a,n]),null},$e=w,We=M,Je=B,Le=$,Ge=W,ze=L,qe=z,Ve=V;function He({...a}){return e.jsx($e,{"data-slot":"dialog",...a})}function Ke({...a}){return e.jsx(We,{"data-slot":"dialog-trigger",...a})}function Ue({...a}){return e.jsx(Je,{"data-slot":"dialog-portal",...a})}function Xe({className:a,...n}){return e.jsx(Le,{"data-slot":"dialog-overlay",className:f("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",a),...n})}function Ye({className:a,children:n,showCloseButton:r=!0,...s}){return e.jsxs(Ue,{"data-slot":"dialog-portal",children:[e.jsx(Xe,{}),e.jsxs(Ge,{"data-slot":"dialog-content",className:f("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",a),...s,children:[n,r&&e.jsxs(Ve,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[e.jsx(Se,{}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function Ze({className:a,...n}){return e.jsx("div",{"data-slot":"dialog-header",className:f("flex flex-col gap-2 text-center sm:text-left",a),...n})}function Qe({className:a,...n}){return e.jsx(ze,{"data-slot":"dialog-title",className:f("text-lg font-semibold leading-none",a),...n})}function et({className:a,...n}){return e.jsx(qe,{"data-slot":"dialog-description",className:f("text-sm text-muted-foreground",a),...n})}function tt({job:a,onOpenChange:n}){const{updateJob:r}=O(),s=pe({validators:{onChange:he},defaultValues:{title:a.title,company:a.company,date:a.date||new Date,notes:a.notes||"",status:a.status},onSubmit:({value:t})=>{r({...t,id:a.id}),n(!1)}});return e.jsxs("form",{onSubmit:t=>{t.preventDefault(),t.stopPropagation(),s.handleSubmit()},className:"space-y-8",children:[e.jsx(s.Field,{name:"title",children:t=>e.jsxs("div",{children:[e.jsx("label",{htmlFor:t.name,children:"Title"}),e.jsx(I,{id:t.name,name:t.name,value:t.state.value,onBlur:t.handleBlur,onChange:o=>t.handleChange(o.target.value),required:!0}),t.state.meta.errors[0]?e.jsx("em",{role:"alert",children:t.state.meta.errors[0].message}):null]})}),e.jsx(s.Field,{name:"company",children:t=>e.jsxs("div",{children:[e.jsx("label",{htmlFor:t.name,children:"Company"}),e.jsx(I,{id:t.name,name:t.name,value:t.state.value,onBlur:t.handleBlur,onChange:o=>t.handleChange(o.target.value),required:!0}),t.state.meta.errors[0]?e.jsx("em",{role:"alert",children:t.state.meta.errors[0].message}):null]})}),e.jsx(s.Field,{name:"date",children:t=>e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("label",{htmlFor:t.name,className:"text-sm font-medium text-card-foreground dark:text-card-foreground-dark",children:"Date"}),e.jsxs(fe,{children:[e.jsx(ve,{asChild:!0,children:e.jsx(v,{variant:"outline",className:"w-full justify-start text-left font-normal","aria-label":"Select a date",children:t.state.value?F(t.state.value,"PPP"):"Select a date"})}),e.jsx(je,{children:e.jsx(Ce,{mode:"single",selected:t.state.value,onSelect:t.handleChange,captionLayout:"dropdown",required:!0})})]}),t.state.meta.errors[0]?e.jsx("em",{role:"alert",className:"text-xs text-destructive dark:text-destructive-dark",children:t.state.meta.errors[0].message}):null]})}),e.jsx(s.Field,{name:"notes",children:t=>e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("label",{htmlFor:t.name,className:"text-sm font-medium text-card-foreground dark:text-card-foreground-dark",children:"Notes"}),e.jsx(De,{onChange:o=>t.handleChange(o.target.value),name:t.name,id:t.name,value:t.state.value,placeholder:"Add Job notes here..."}),t.state.meta.errors[0]?e.jsx("em",{role:"alert",className:"text-xs text-destructive dark:text-destructive-dark",children:t.state.meta.errors[0].message}):null]})}),e.jsx(s.Field,{name:"status",children:t=>e.jsxs("div",{children:[e.jsx("label",{htmlFor:t.name,children:"Status"}),e.jsxs(be,{onValueChange:o=>t.handleChange(o),value:t.state.value,name:t.name,required:!0,children:[e.jsx(ye,{className:"w-[180px]",onBlur:t.handleBlur,id:t.name,children:e.jsx(Ne,{placeholder:"Select job status"})}),e.jsx(Re,{children:e.jsxs(_e,{children:[e.jsx(Pe,{children:"Stats"}),e.jsx(x,{value:"Applied",children:"Applied"}),e.jsx(x,{value:"Interviewing",children:"Interviewing"}),e.jsx(x,{value:"Offer",children:"Offer"}),e.jsx(x,{value:"Rejected",children:"Rejected"}),e.jsx(x,{value:"Accepted",children:"Accepted"}),e.jsx(x,{value:"Not selected by the employer",children:"Not selected by the employer"})]})})]}),t.state.meta.errors[0]?e.jsx("em",{role:"alert",children:t.state.meta.errors[0].message}):null]})}),e.jsx(v,{type:"submit",children:"Save Changes"})]})}const it=function(){const{jobId:n}=te.useParams(),r=ne(),{deleteJob:s}=O(),t=r.find(u=>u.id===n),[o,i]=l.useState(!1),c=ae();return t?e.jsxs(oe,{className:"max-w-[700px] mx-auto",children:[e.jsxs(se,{children:[e.jsx(re,{children:t.title}),e.jsx(E,{children:t.company})]}),e.jsxs(le,{children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx(S,{children:t.status}),t.date?e.jsx(S,{children:F(t.date,"dd'th' 'of' MMMM")}):null]}),t.notes?e.jsxs(E,{className:"p-2 text-2xl bg-input rounded-md mt-2 ring-2 ring-primary/20",children:['" ',t.notes,' "']}):null]}),e.jsxs(ie,{className:"flex gap-2 justify-end",children:[e.jsxs(He,{open:o,onOpenChange:i,children:[e.jsx(Ke,{asChild:!0,children:e.jsx(v,{children:"Edit"})}),e.jsxs(Ye,{children:[e.jsxs(Ze,{children:[e.jsx(Qe,{children:"Edit Job"}),e.jsx(et,{children:"Make changes to your job application here. Click save when you're done."})]}),e.jsx(tt,{job:t,onOpenChange:i})]})]}),e.jsx(v,{variant:"destructive",onClick:()=>{s(t),c.navigate({to:"/"})},children:"Delete"})]})]}):e.jsxs("div",{className:"flex justify-center items-center w-full h-full text-4xl text-center",children:["Job with id ",n," not found"]})};export{it as component};
